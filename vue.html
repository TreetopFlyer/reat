<!DOCTYPE html>
<html>
    <head>
        <script src="https://cdn.jsdelivr.net/npm/vue@2.5.16/dist/vue.js"></script>
        <link rel="stylesheet" type="text/css" href="styles.css">
    </head>
    <body>
        <div id="App">
            <input type="range" min="0" max="100" step="10" style="width:50px; height:200px; writing-mode: bt-lr; -webkit-appearance: slider-vertical;"/>
        </div>
        
        <!-- lerp -->
        <script>
            var Lerp = {
                Get: function(inMin, inAmount, inMax)
                {
                    return (inAmount - inMin)/(inMax - inMin);
                },
                Set: function(inMin, inAmount, inMax)
                {
                    return inMin + inAmount*(inMax - inMin);
                },
                Clip: function(inMin, inAmount, inMax)
                {
                    if(inAmount < inMin)
                    {
                        return inMin;
                    }
                    if(inAmount > inMax)
                    {
                        return inMax;
                    }
                    return inAmount;
                }
            }
        </script>
        
        <!-- tone -->
        <script>
            var Tone = {};
            Tone.Context = new (window.AudioContext || window.webkitAudioContext)();
            Tone.Time = {
                Timer:0,
                Counter:0,
                Update: function()
                {
                    switch(Tone.Time.Counter)
                    {
                        case 0:
                            Tone.GainBeep.gain.value = 1;
                            break;
                        case 1:
                            Tone.GainBeep.gain.value = 0;
                            break;
                        default:
                            Tone.Time.Counter = -1;
                    }
                    Tone.Time.Counter++;
                },
                Reset: function()
                {
                    Tone.GainBeep.gain.value = 0;
                    Tone.Time.Counter = 0;
                },
                Start: function()
                {
                    Tone.Time.Reset();
                    Tone.Time.Timer = setInterval(Tone.Time.Update, 100);
                },
                Stop: function()
                {
                    clearInterval(Tone.Time.Timer);
                    Tone.Time.Reset();
                }
            };

            Tone.Setup = function(inFrequency, inPan, inDB)
            {
                Tone.GainBeep = Tone.Context.createGain();
                Tone.GainBeep.gain.value = 0;
                Tone.GainDB = Tone.Context.createGain();
                Tone.Panner = Tone.Context.createStereoPanner();
                Tone.Oscillator = Tone.Context.createOscillator();
                Tone.Oscillator.start();

                Tone.Oscillator.connect(Tone.GainDB);
                Tone.GainDB.connect(Tone.GainBeep);
                Tone.GainBeep.connect(Tone.Panner);
                Tone.Panner.connect(Tone.Context.destination);

                Tone.Oscillator.frequency.value = inFrequency;
                Tone.Panner.pan.value = inPan;
                Tone.Fade(inDB);
            };
            Tone.Fade = function(inDB)
            {
                Tone.GainDB.gain.value = inDB;
            };
        </script>

        <!-- test -->
        <script>
            var TestSet = function()
            {
                return {
                    HighLeft: {db:1,  lr:1,  hz:4000},
                    HighRight:{db:1,  lr:-1, hz:4000},
                    LowLeft:  {db:1,  lr:1,  hz:250 },
                    LowRight: {db:1,  lr:-1, hz:250 }
                };  
            };
        </script>

        <!-- app -->
        <script>
            var App = new Vue({
                el:"#App",
                computed:{
                },
                methods: {
                },
                data:{
                    Test:{
                        Normal: TestSet(),
                        Protected: TestSet()
                    }
                }
            });
        </script>
        
        <!-- Slider component -->
        <script>
            Vue.component("slider", {
                
            });
        </script>
    </body>
</html>